{
  "version": 3,
  "sources": ["../../frontend/state.ts", "../../frontend/websocket.ts", "../../frontend/utils.ts", "../../frontend/components.ts", "../../frontend/app.ts"],
  "sourcesContent": ["/**\n * Dashboard State Management\n */\n\nimport type { Agent, Message, AppState, ChannelType } from './types.js';\n\n/**\n * Global application state\n */\nexport const state: AppState = {\n  agents: [],\n  messages: [],\n  currentChannel: 'general',\n  isConnected: false,\n  ws: null,\n  reconnectAttempts: 0,\n};\n\n/**\n * State update callbacks\n */\ntype StateListener = () => void;\nconst listeners: StateListener[] = [];\n\n/**\n * Subscribe to state changes\n */\nexport function subscribe(listener: StateListener): () => void {\n  listeners.push(listener);\n  return () => {\n    const index = listeners.indexOf(listener);\n    if (index > -1) {\n      listeners.splice(index, 1);\n    }\n  };\n}\n\n/**\n * Notify all listeners of state change\n */\nfunction notifyListeners(): void {\n  listeners.forEach((listener) => listener());\n}\n\n/**\n * Update agents in state\n */\nexport function setAgents(agents: Agent[]): void {\n  state.agents = agents;\n  notifyListeners();\n}\n\n/**\n * Update messages in state\n */\nexport function setMessages(messages: Message[]): void {\n  state.messages = messages;\n  notifyListeners();\n}\n\n/**\n * Set current channel/conversation\n */\nexport function setCurrentChannel(channel: ChannelType): void {\n  state.currentChannel = channel;\n  notifyListeners();\n}\n\n/**\n * Update connection status\n */\nexport function setConnectionStatus(connected: boolean): void {\n  state.isConnected = connected;\n  if (connected) {\n    state.reconnectAttempts = 0;\n  }\n  notifyListeners();\n}\n\n/**\n * Increment reconnect attempts\n */\nexport function incrementReconnectAttempts(): void {\n  state.reconnectAttempts++;\n}\n\n/**\n * Set WebSocket instance\n */\nexport function setWebSocket(ws: WebSocket | null): void {\n  state.ws = ws;\n}\n\n/**\n * Filter messages based on current channel\n */\nexport function getFilteredMessages(): Message[] {\n  const { messages, currentChannel } = state;\n\n  if (currentChannel === 'general') {\n    return messages;\n  }\n\n  if (currentChannel === 'broadcasts') {\n    return messages.filter((m) => m.to === '*');\n  }\n\n  // Filter for specific agent - show messages to/from that agent\n  return messages.filter(\n    (m) => m.from === currentChannel || m.to === currentChannel\n  );\n}\n", "/**\n * WebSocket Connection Handler\n */\n\nimport type { DashboardData } from './types.js';\nimport {\n  state,\n  setAgents,\n  setMessages,\n  setConnectionStatus,\n  setWebSocket,\n  incrementReconnectAttempts,\n} from './state.js';\n\ntype DataHandler = (data: DashboardData) => void;\n\nlet dataHandler: DataHandler | null = null;\n\n/**\n * Set the handler for incoming data\n */\nexport function onData(handler: DataHandler): void {\n  dataHandler = handler;\n}\n\n/**\n * Connect to the WebSocket server\n */\nexport function connect(): void {\n  const protocol = window.location.protocol === 'https:' ? 'wss:' : 'ws:';\n  const ws = new WebSocket(`${protocol}//${window.location.host}/ws`);\n\n  ws.onopen = (): void => {\n    setConnectionStatus(true);\n  };\n\n  ws.onclose = (): void => {\n    setConnectionStatus(false);\n    // Reconnect with exponential backoff\n    const delay = Math.min(1000 * Math.pow(2, state.reconnectAttempts), 30000);\n    incrementReconnectAttempts();\n    setTimeout(connect, delay);\n  };\n\n  ws.onerror = (error): void => {\n    console.error('WebSocket error:', error);\n  };\n\n  ws.onmessage = (event: MessageEvent): void => {\n    try {\n      const data: DashboardData = JSON.parse(event.data as string);\n      handleData(data);\n    } catch (e) {\n      console.error('Failed to parse message:', e);\n    }\n  };\n\n  setWebSocket(ws);\n}\n\n/**\n * Handle incoming dashboard data\n */\nfunction handleData(data: DashboardData): void {\n  if (data.agents) {\n    setAgents(data.agents);\n  }\n\n  if (data.messages) {\n    setMessages(data.messages);\n  }\n\n  if (dataHandler) {\n    dataHandler(data);\n  }\n}\n\n/**\n * Send a message via the REST API\n */\nexport async function sendMessage(\n  to: string,\n  message: string\n): Promise<{ success: boolean; error?: string }> {\n  try {\n    const response = await fetch('/api/send', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ to, message }),\n    });\n\n    const result = await response.json();\n\n    if (response.ok && result.success) {\n      return { success: true };\n    } else {\n      return { success: false, error: result.error || 'Failed to send message' };\n    }\n  } catch (err) {\n    return { success: false, error: 'Network error - could not send message' };\n  }\n}\n", "/**\n * Dashboard Utility Functions\n */\n\n/** Threshold for considering an agent offline (30 seconds) */\nexport const STALE_THRESHOLD_MS = 30000;\n\n/**\n * Check if an agent is online based on last seen timestamp\n */\nexport function isAgentOnline(lastSeen: string | undefined): boolean {\n  if (!lastSeen) return false;\n  const ts = Date.parse(lastSeen);\n  if (Number.isNaN(ts)) return false;\n  return Date.now() - ts < STALE_THRESHOLD_MS;\n}\n\n/**\n * Escape HTML to prevent XSS\n */\nexport function escapeHtml(text: string | undefined): string {\n  if (!text) return '';\n  const div = document.createElement('div');\n  div.textContent = text;\n  return div.innerHTML;\n}\n\n/**\n * Format timestamp to locale time string\n */\nexport function formatTime(timestamp: string): string {\n  const date = new Date(timestamp);\n  return date.toLocaleTimeString([], { hour: 'numeric', minute: '2-digit' });\n}\n\n/**\n * Format timestamp to human-readable date\n */\nexport function formatDate(timestamp: string): string {\n  const date = new Date(timestamp);\n  const today = new Date();\n  const yesterday = new Date(today);\n  yesterday.setDate(yesterday.getDate() - 1);\n\n  if (date.toDateString() === today.toDateString()) {\n    return 'Today';\n  } else if (date.toDateString() === yesterday.toDateString()) {\n    return 'Yesterday';\n  } else {\n    return date.toLocaleDateString([], {\n      weekday: 'long',\n      month: 'long',\n      day: 'numeric',\n    });\n  }\n}\n\n/**\n * Generate a consistent color for an agent based on their name\n */\nexport function getAvatarColor(name: string): string {\n  const colors = [\n    '#e01e5a',\n    '#2bac76',\n    '#e8a427',\n    '#1264a3',\n    '#7c3aed',\n    '#0d9488',\n    '#dc2626',\n    '#9333ea',\n    '#ea580c',\n    '#0891b2',\n  ];\n  let hash = 0;\n  for (let i = 0; i < name.length; i++) {\n    hash = name.charCodeAt(i) + ((hash << 5) - hash);\n  }\n  return colors[Math.abs(hash) % colors.length];\n}\n\n/**\n * Get initials from a name (first 2 characters, uppercase)\n */\nexport function getInitials(name: string): string {\n  return name.substring(0, 2).toUpperCase();\n}\n\n/**\n * Format message body with basic markdown-like formatting\n */\nexport function formatMessageBody(content: string | undefined): string {\n  if (!content) return '';\n\n  let escaped = escapeHtml(content);\n\n  // Simple code block detection\n  escaped = escaped.replace(/```([\\s\\S]*?)```/g, '<pre>$1</pre>');\n  escaped = escaped.replace(/`([^`]+)`/g, '<code>$1</code>');\n\n  return escaped;\n}\n", "/**\n * Dashboard UI Components\n */\n\nimport type { Agent, Message, DOMElements, ChannelType } from './types.js';\nimport { state, getFilteredMessages, setCurrentChannel } from './state.js';\nimport {\n  escapeHtml,\n  formatTime,\n  formatDate,\n  getAvatarColor,\n  getInitials,\n  formatMessageBody,\n  isAgentOnline,\n} from './utils.js';\n\nlet elements: DOMElements;\n\n/**\n * Initialize DOM element references\n */\nexport function initElements(): DOMElements {\n  elements = {\n    connectionDot: document.getElementById('connection-dot')!,\n    channelsList: document.getElementById('channels-list')!,\n    agentsList: document.getElementById('agents-list')!,\n    messagesList: document.getElementById('messages-list')!,\n    currentChannelName: document.getElementById('current-channel-name')!,\n    channelTopic: document.getElementById('channel-topic')!,\n    onlineCount: document.getElementById('online-count')!,\n    targetSelect: document.getElementById('target-select') as HTMLSelectElement,\n    messageInput: document.getElementById('message-input') as HTMLTextAreaElement,\n    sendBtn: document.getElementById('send-btn') as HTMLButtonElement,\n    searchTrigger: document.getElementById('search-trigger')!,\n    commandPaletteOverlay: document.getElementById('command-palette-overlay')!,\n    paletteSearch: document.getElementById('palette-search') as HTMLInputElement,\n    paletteResults: document.getElementById('palette-results')!,\n    paletteAgentsSection: document.getElementById('palette-agents-section')!,\n    paletteMessagesSection: document.getElementById('palette-messages-section')!,\n    typingIndicator: document.getElementById('typing-indicator')!,\n  };\n  return elements;\n}\n\n/**\n * Get DOM elements\n */\nexport function getElements(): DOMElements {\n  return elements;\n}\n\n/**\n * Update connection status indicator\n */\nexport function updateConnectionStatus(): void {\n  if (state.isConnected) {\n    elements.connectionDot.classList.remove('offline');\n  } else {\n    elements.connectionDot.classList.add('offline');\n  }\n}\n\n/**\n * Render agents list in sidebar\n */\nexport function renderAgents(): void {\n  const html = state.agents\n    .map((agent) => {\n      const online = isAgentOnline(agent.lastSeen || agent.lastActive);\n      const presenceClass = online ? 'online' : '';\n      const isActive = state.currentChannel === agent.name;\n\n      return `\n      <li class=\"channel-item ${isActive ? 'active' : ''}\" data-agent=\"${escapeHtml(agent.name)}\">\n        <div class=\"agent-avatar\" style=\"background: ${getAvatarColor(agent.name)}\">\n          ${getInitials(agent.name)}\n          <span class=\"presence-indicator ${presenceClass}\"></span>\n        </div>\n        <span class=\"channel-name\">${escapeHtml(agent.name)}</span>\n      </li>\n    `;\n    })\n    .join('');\n\n  elements.agentsList.innerHTML =\n    html ||\n    '<li class=\"channel-item\" style=\"color: var(--text-muted); cursor: default;\">No agents connected</li>';\n\n  // Add click handlers\n  elements.agentsList.querySelectorAll<HTMLElement>('.channel-item[data-agent]').forEach((item) => {\n    item.addEventListener('click', () => {\n      const agentName = item.dataset.agent;\n      if (agentName) {\n        selectChannel(agentName);\n      }\n    });\n  });\n\n  // Update command palette agents\n  updatePaletteAgents();\n}\n\n/**\n * Render messages list\n */\nexport function renderMessages(): void {\n  const filtered = getFilteredMessages();\n\n  if (filtered.length === 0) {\n    elements.messagesList.innerHTML = `\n      <div class=\"empty-state\">\n        <svg class=\"empty-state-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"1.5\">\n          <path d=\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\"/>\n        </svg>\n        <div class=\"empty-state-title\">No messages yet</div>\n        <div class=\"empty-state-text\">\n          ${\n            state.currentChannel === 'general'\n              ? 'Messages between agents will appear here'\n              : state.currentChannel === 'broadcasts'\n                ? 'Broadcast messages will appear here'\n                : `Messages with ${state.currentChannel} will appear here`\n          }\n        </div>\n      </div>\n    `;\n    return;\n  }\n\n  let html = '';\n  let lastDate: string | null = null;\n\n  filtered.forEach((msg) => {\n    const msgDate = new Date(msg.timestamp).toDateString();\n\n    // Add date divider if needed\n    if (msgDate !== lastDate) {\n      html += `\n        <div class=\"date-divider\">\n          <span class=\"date-divider-text\">${formatDate(msg.timestamp)}</span>\n        </div>\n      `;\n      lastDate = msgDate;\n    }\n\n    const isBroadcast = msg.to === '*';\n    const avatarColor = getAvatarColor(msg.from);\n\n    html += `\n      <div class=\"message ${isBroadcast ? 'broadcast' : ''}\" data-id=\"${escapeHtml(msg.id)}\">\n        <div class=\"message-avatar\" style=\"background: ${avatarColor}\">\n          ${getInitials(msg.from)}\n        </div>\n        <div class=\"message-content\">\n          <div class=\"message-header\">\n            <span class=\"message-sender\">${escapeHtml(msg.from)}</span>\n            <span class=\"message-recipient\">\n              to <span class=\"target\">${isBroadcast ? 'everyone' : escapeHtml(msg.to)}</span>\n            </span>\n            <span class=\"message-timestamp\">${formatTime(msg.timestamp)}</span>\n          </div>\n          <div class=\"message-body\">${formatMessageBody(msg.content)}</div>\n          ${\n            msg.thread\n              ? `\n            <div class=\"thread-indicator\" data-thread=\"${escapeHtml(msg.thread)}\">\n              <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                <path d=\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\"/>\n              </svg>\n              Thread: ${escapeHtml(msg.thread)}\n            </div>\n          `\n              : ''\n          }\n        </div>\n        <div class=\"message-actions\">\n          <button class=\"message-action-btn\" title=\"Reply in thread\">\n            <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n              <path d=\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\"/>\n            </svg>\n          </button>\n          <button class=\"message-action-btn\" title=\"Add reaction\">\n            <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n              <circle cx=\"12\" cy=\"12\" r=\"10\"/>\n              <path d=\"M8 14s1.5 2 4 2 4-2 4-2\"/>\n              <line x1=\"9\" y1=\"9\" x2=\"9.01\" y2=\"9\"/>\n              <line x1=\"15\" y1=\"9\" x2=\"15.01\" y2=\"9\"/>\n            </svg>\n          </button>\n        </div>\n      </div>\n    `;\n  });\n\n  elements.messagesList.innerHTML = html;\n\n  // Scroll to bottom\n  const container = elements.messagesList.parentElement;\n  if (container) {\n    container.scrollTop = container.scrollHeight;\n  }\n}\n\n/**\n * Select a channel and update UI\n */\nexport function selectChannel(channel: ChannelType): void {\n  setCurrentChannel(channel);\n\n  // Update sidebar active states\n  elements.channelsList.querySelectorAll<HTMLElement>('.channel-item').forEach((item) => {\n    item.classList.toggle('active', item.dataset.channel === channel);\n  });\n  elements.agentsList.querySelectorAll<HTMLElement>('.channel-item').forEach((item) => {\n    item.classList.toggle('active', item.dataset.agent === channel);\n  });\n\n  // Update header\n  const prefixEl = document.querySelector('.channel-header-name .prefix');\n  if (channel === 'general') {\n    elements.currentChannelName.innerHTML = 'general';\n    elements.channelTopic.textContent = 'All agent communications';\n    if (prefixEl) prefixEl.textContent = '#';\n  } else if (channel === 'broadcasts') {\n    elements.currentChannelName.innerHTML = 'broadcasts';\n    elements.channelTopic.textContent = 'Messages sent to everyone';\n    if (prefixEl) prefixEl.textContent = '#';\n  } else {\n    elements.currentChannelName.innerHTML = escapeHtml(channel);\n    const agent = state.agents.find((a) => a.name === channel);\n    elements.channelTopic.textContent = agent?.status || 'Direct messages';\n    if (prefixEl) prefixEl.textContent = '@';\n\n    // Pre-select agent in composer\n    elements.targetSelect.value = channel;\n  }\n\n  // Update composer placeholder\n  elements.messageInput.placeholder =\n    channel === 'general' || channel === 'broadcasts'\n      ? `Message #${channel}`\n      : `Message ${channel}`;\n\n  // Re-render messages\n  renderMessages();\n}\n\n/**\n * Update target select dropdown with agents\n */\nexport function updateTargetSelect(): void {\n  const currentValue = elements.targetSelect.value;\n\n  const options = state.agents\n    .map((a) => `<option value=\"${escapeHtml(a.name)}\">${escapeHtml(a.name)}</option>`)\n    .join('');\n\n  elements.targetSelect.innerHTML = `\n    <option value=\"\">Select recipient...</option>\n    <option value=\"*\">Everyone (broadcast)</option>\n    ${options}\n  `;\n\n  // Restore selection\n  if (currentValue && (currentValue === '*' || state.agents.some((a) => a.name === currentValue))) {\n    elements.targetSelect.value = currentValue;\n  }\n}\n\n/**\n * Update online count display\n */\nexport function updateOnlineCount(): void {\n  const online = state.agents.filter((a) => isAgentOnline(a.lastSeen || a.lastActive)).length;\n  elements.onlineCount.textContent = `${online} online`;\n}\n\n/**\n * Update agents in command palette\n */\nexport function updatePaletteAgents(): void {\n  const html = state.agents\n    .map((agent) => {\n      const online = isAgentOnline(agent.lastSeen || agent.lastActive);\n      return `\n      <div class=\"palette-item\" data-jump-agent=\"${escapeHtml(agent.name)}\">\n        <div class=\"palette-item-icon\">\n          <div class=\"agent-avatar\" style=\"background: ${getAvatarColor(agent.name)}; width: 20px; height: 20px; font-size: 9px;\">\n            ${getInitials(agent.name)}\n            <span class=\"presence-indicator ${online ? 'online' : ''}\"></span>\n          </div>\n        </div>\n        <div class=\"palette-item-content\">\n          <div class=\"palette-item-title\">${escapeHtml(agent.name)}</div>\n          <div class=\"palette-item-subtitle\">${online ? 'Online' : 'Offline'}</div>\n        </div>\n      </div>\n    `;\n    })\n    .join('');\n\n  const section = elements.paletteAgentsSection;\n  const items = section.querySelectorAll('.palette-item');\n  items.forEach((item) => item.remove());\n  section.insertAdjacentHTML('beforeend', html);\n\n  // Add click handlers\n  section.querySelectorAll<HTMLElement>('.palette-item[data-jump-agent]').forEach((item) => {\n    item.addEventListener('click', () => {\n      const agentName = item.dataset.jumpAgent;\n      if (agentName) {\n        selectChannel(agentName);\n        closeCommandPalette();\n      }\n    });\n  });\n}\n\n/**\n * Open command palette\n */\nexport function openCommandPalette(): void {\n  elements.commandPaletteOverlay.classList.add('visible');\n  elements.paletteSearch.value = '';\n  elements.paletteSearch.focus();\n  filterPaletteResults('');\n}\n\n/**\n * Close command palette\n */\nexport function closeCommandPalette(): void {\n  elements.commandPaletteOverlay.classList.remove('visible');\n}\n\n/**\n * Filter command palette results based on query\n */\nexport function filterPaletteResults(query: string): void {\n  const q = query.toLowerCase();\n\n  // Filter command items\n  document.querySelectorAll<HTMLElement>('.palette-item[data-command]').forEach((item) => {\n    const titleEl = item.querySelector('.palette-item-title');\n    const title = titleEl?.textContent?.toLowerCase() || '';\n    item.style.display = title.includes(q) ? 'flex' : 'none';\n  });\n\n  // Filter agent items\n  document.querySelectorAll<HTMLElement>('.palette-item[data-jump-agent]').forEach((item) => {\n    const name = item.dataset.jumpAgent?.toLowerCase() || '';\n    item.style.display = name.includes(q) ? 'flex' : 'none';\n  });\n\n  // Show message search if query is long enough\n  if (q.length >= 2) {\n    const matches = state.messages.filter((m) => m.content.toLowerCase().includes(q)).slice(0, 5);\n\n    if (matches.length > 0) {\n      elements.paletteMessagesSection.style.display = 'block';\n      const items = matches\n        .map(\n          (m) => `\n        <div class=\"palette-item\" data-jump-message=\"${escapeHtml(m.id)}\">\n          <div class=\"palette-item-icon\">\n            <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n              <path d=\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\"/>\n            </svg>\n          </div>\n          <div class=\"palette-item-content\">\n            <div class=\"palette-item-title\">${escapeHtml(m.from)}</div>\n            <div class=\"palette-item-subtitle\">${escapeHtml(m.content.substring(0, 60))}${m.content.length > 60 ? '...' : ''}</div>\n          </div>\n        </div>\n      `\n        )\n        .join('');\n\n      const existingItems = elements.paletteMessagesSection.querySelectorAll('.palette-item');\n      existingItems.forEach((item) => item.remove());\n      elements.paletteMessagesSection.insertAdjacentHTML('beforeend', items);\n    } else {\n      elements.paletteMessagesSection.style.display = 'none';\n    }\n  } else {\n    elements.paletteMessagesSection.style.display = 'none';\n  }\n}\n", "/**\n * Dashboard Application Entry Point\n */\n\nimport { subscribe } from './state.js';\nimport { connect, sendMessage } from './websocket.js';\nimport {\n  initElements,\n  getElements,\n  updateConnectionStatus,\n  renderAgents,\n  renderMessages,\n  selectChannel,\n  updateTargetSelect,\n  updateOnlineCount,\n  openCommandPalette,\n  closeCommandPalette,\n  filterPaletteResults,\n} from './components.js';\n\n/**\n * Initialize the dashboard application\n */\nexport function initApp(): void {\n  const elements = initElements();\n\n  // Subscribe to state changes\n  subscribe(() => {\n    updateConnectionStatus();\n    renderAgents();\n    renderMessages();\n    updateTargetSelect();\n    updateOnlineCount();\n  });\n\n  // Set up event listeners\n  setupEventListeners(elements);\n\n  // Connect to WebSocket\n  connect();\n}\n\n/**\n * Set up all event listeners\n */\nfunction setupEventListeners(elements: ReturnType<typeof getElements>): void {\n  // Channel clicks\n  elements.channelsList.querySelectorAll<HTMLElement>('.channel-item').forEach((item) => {\n    item.addEventListener('click', () => {\n      const channel = item.dataset.channel;\n      if (channel) {\n        selectChannel(channel);\n      }\n    });\n  });\n\n  // Send button\n  elements.sendBtn.addEventListener('click', handleSend);\n\n  // Keyboard shortcuts for composer\n  elements.messageInput.addEventListener('keydown', (e: KeyboardEvent) => {\n    if (e.key === 'Enter' && (e.ctrlKey || e.metaKey)) {\n      e.preventDefault();\n      handleSend();\n    }\n  });\n\n  // Auto-resize textarea\n  elements.messageInput.addEventListener('input', () => {\n    elements.messageInput.style.height = 'auto';\n    elements.messageInput.style.height =\n      Math.min(elements.messageInput.scrollHeight, 200) + 'px';\n  });\n\n  // Command palette\n  elements.searchTrigger.addEventListener('click', openCommandPalette);\n\n  document.addEventListener('keydown', (e: KeyboardEvent) => {\n    if ((e.ctrlKey || e.metaKey) && e.key === 'k') {\n      e.preventDefault();\n      if (elements.commandPaletteOverlay.classList.contains('visible')) {\n        closeCommandPalette();\n      } else {\n        openCommandPalette();\n      }\n    }\n\n    if (e.key === 'Escape') {\n      closeCommandPalette();\n    }\n  });\n\n  elements.commandPaletteOverlay.addEventListener('click', (e: MouseEvent) => {\n    if (e.target === elements.commandPaletteOverlay) {\n      closeCommandPalette();\n    }\n  });\n\n  elements.paletteSearch.addEventListener('input', (e: Event) => {\n    const target = e.target as HTMLInputElement;\n    filterPaletteResults(target.value);\n  });\n\n  // Command execution\n  document.querySelectorAll<HTMLElement>('.palette-item[data-command]').forEach((item) => {\n    item.addEventListener('click', () => {\n      const command = item.dataset.command;\n\n      if (command === 'broadcast') {\n        elements.targetSelect.value = '*';\n        elements.messageInput.focus();\n      } else if (command === 'clear') {\n        elements.messagesList.innerHTML = '';\n      }\n\n      closeCommandPalette();\n    });\n  });\n}\n\n/**\n * Handle send button click\n */\nasync function handleSend(): Promise<void> {\n  const elements = getElements();\n  const to = elements.targetSelect.value;\n  const message = elements.messageInput.value.trim();\n\n  if (!to) {\n    alert('Please select a recipient');\n    return;\n  }\n\n  if (!message) {\n    return;\n  }\n\n  elements.sendBtn.disabled = true;\n\n  const result = await sendMessage(to, message);\n\n  if (result.success) {\n    elements.messageInput.value = '';\n    elements.messageInput.style.height = 'auto';\n  } else {\n    alert(result.error);\n  }\n\n  elements.sendBtn.disabled = false;\n}\n\n// Auto-initialize when DOM is ready\nif (typeof document !== 'undefined') {\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', initApp);\n  } else {\n    initApp();\n  }\n}\n"],
  "mappings": "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",
  "names": ["state", "listeners", "subscribe", "listener", "index", "notifyListeners", "setAgents", "agents", "setMessages", "messages", "setCurrentChannel", "channel", "setConnectionStatus", "connected", "incrementReconnectAttempts", "setWebSocket", "ws", "getFilteredMessages", "currentChannel", "m", "dataHandler", "connect", "protocol", "ws", "setConnectionStatus", "delay", "state", "incrementReconnectAttempts", "error", "event", "data", "handleData", "e", "setWebSocket", "setAgents", "setMessages", "dataHandler", "sendMessage", "to", "message", "response", "result", "isAgentOnline", "lastSeen", "ts", "escapeHtml", "text", "div", "formatTime", "timestamp", "formatDate", "date", "today", "yesterday", "getAvatarColor", "name", "colors", "hash", "i", "getInitials", "formatMessageBody", "content", "escaped", "elements", "initElements", "getElements", "updateConnectionStatus", "state", "renderAgents", "html", "agent", "presenceClass", "isAgentOnline", "escapeHtml", "getAvatarColor", "getInitials", "item", "agentName", "selectChannel", "updatePaletteAgents", "renderMessages", "filtered", "getFilteredMessages", "lastDate", "msg", "msgDate", "formatDate", "isBroadcast", "avatarColor", "formatTime", "formatMessageBody", "container", "channel", "setCurrentChannel", "prefixEl", "a", "updateTargetSelect", "currentValue", "options", "updateOnlineCount", "online", "section", "closeCommandPalette", "openCommandPalette", "filterPaletteResults", "query", "q", "title", "name", "matches", "m", "items", "initApp", "elements", "initElements", "subscribe", "updateConnectionStatus", "renderAgents", "renderMessages", "updateTargetSelect", "updateOnlineCount", "setupEventListeners", "connect", "item", "channel", "selectChannel", "handleSend", "e", "openCommandPalette", "closeCommandPalette", "target", "filterPaletteResults", "command", "getElements", "to", "message", "result", "sendMessage"]
}
