# Agent Relay Configuration
# Copy this file to .env and customize as needed

# =============================================================================
# Storage Configuration
# =============================================================================

# Storage type: sqlite (default), none/memory, postgres (future)
# AGENT_RELAY_STORAGE_TYPE=sqlite

# SQLite database path (only used when STORAGE_TYPE=sqlite)
# If not set, uses project-specific path: ~/.agent-relay/<project-id>/relay.sqlite
# AGENT_RELAY_STORAGE_PATH=/path/to/custom/relay.sqlite

# Database connection URL (for postgres - future)
# AGENT_RELAY_STORAGE_URL=postgres://user:password@localhost:5432/agent_relay

# =============================================================================
# Dashboard Configuration
# =============================================================================

# Dashboard port (default: 3888)
# AGENT_RELAY_DASHBOARD_PORT=3888

# =============================================================================
# Cloud Mode Configuration
# =============================================================================

# Force cloud mode in dashboard - prevents silent fallback to local mode
# Set to "true" when testing cloud features locally
# NEXT_PUBLIC_FORCE_CLOUD_MODE=true

# =============================================================================
# Security / Vault Configuration
# =============================================================================

# Vault master key for encrypting stored credentials (REQUIRED for cloud mode)
# Generate with: openssl rand -base64 32
# VAULT_MASTER_KEY=your-32-byte-base64-encoded-key

# =============================================================================
# Compute Provider Configuration (for workspace provisioning)
# =============================================================================

# Compute provider: docker (default), fly, railway
# COMPUTE_PROVIDER=docker

# --- Fly.io Configuration ---
# Get API token: fly tokens create deploy -x 999999h -n "agent-relay-provisioner"
# FLY_API_TOKEN=your-fly-api-token
# FLY_ORG=personal
# FLY_REGION=sjc
# FLY_WORKSPACE_DOMAIN=workspaces.yourdomain.com  # optional custom domain

# --- Railway Configuration ---
# Get API token from Railway dashboard
# RAILWAY_API_TOKEN=your-railway-api-token

# =============================================================================
# Examples
# =============================================================================

# Use in-memory storage (no persistence, good for testing):
# AGENT_RELAY_STORAGE_TYPE=none

# Use SQLite with custom path:
# AGENT_RELAY_STORAGE_TYPE=sqlite
# AGENT_RELAY_STORAGE_PATH=/var/data/agent-relay.sqlite

# Use PostgreSQL (future):
# AGENT_RELAY_STORAGE_TYPE=postgres
# AGENT_RELAY_STORAGE_URL=postgres://localhost:5432/agent_relay

# Production Fly.io setup:
# COMPUTE_PROVIDER=fly
# FLY_API_TOKEN=fo1_xxxxx
# FLY_ORG=your-org
# FLY_REGION=sjc
